<!doctype html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <title>JQuery ì—°ìŠµí•˜ê³  ê°€ê¸°!</title>

    <!-- JQueryë¥¼ import í•©ë‹ˆë‹¤ -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <style type="text/css">
        div.question-box {
            margin: 10px 0 20px 0;
        }
    </style>

    <script>
        function q1() {
            // 1. (onclick q1í•  ë•Œ) ì˜ˆì‹œ ì •ë³´ë¥¼ ì§€ìš´ë‹¤: empty. ğŸ’™jqemptyëˆ„ë¥´ë©´ ìë™ìœ¼ë¡œ ë‚˜ì˜´.
            $('#names-q1').empty();
            // 2. ajaxë¥¼ í†µí•´ ì„œìš¸ì‹œ ë¯¸ì„¸ë¨¼ì§€ ì •ë³´ë¥¼ ê°€ì ¸ì˜¨ë‹¤. : ğŸ’™jqajaxëˆ„ë¥´ë©´ ì €ì ˆë¡œ ì…ë ¥ë¨. 
            $.ajax({
                type: "get",
                url: "http://openapi.seoul.go.kr:8088/6d4d776b466c656533356a4b4b5872/json/RealtimeCityAir/1/99",
                // data: "data",
                // dataType: "dataType",
                success: function (response) {
                    // console.log(response["RealtimeCityAir"]["row"]);
                    let mise_collection = response["RealtimeCityAir"]["row"]
                    // ì—¬ëŸ¬ë²ˆ ì“°ê¸° í˜ë“œë‹ˆê¹Œ ì¼ë‹¨ let ë¡œ ì •ì˜í•˜ê³  ëŠì–´ê°€ê¸°
                    // mise_dataëŠ” ë°°ì—´(array). ì–´ëŠ ìœ„ì¹˜ì— ìˆëŠ”ì§€ ìˆ«ìë¡œ ë“¤ì–´ê°
                    for (let i = 0; i < mise_collection.length; i++) {
                        let gu_data = mise_collection[i]
                        let gu_name = gu_data["MSRSTE_NM"]
                        let gu_value = gu_data["IDEX_MVL"]

                        console.log(gu_name, gu_value)
                        // â¬†ï¸ì´ê±´ ê°œë°œìë“¤ì´ í™•ì¸í•˜ê¸°ìœ„í•´... ë‚˜ì¤‘ì—ëŠ” ì§€ì›€.

                        let html_to_insert = "<li>" + gu_name + " : " + gu_value + "</li>";
                        console.log(html_to_insert)
                        // ì—¬ê¸°ì„œ "<li>" ëŠ” íƒœê·¸ê°€ ì•„ë‹ˆë¼ ë¬¸ìì„. 
                        //  ` : backtick, backquote ... `ì•ˆë…•í•˜ì„¸ìš”`ë¼ê³  ì“°ë©´ 
                        // let backtick = `<li>${gu_name} : ${gu_value}</li>`; ë¡œ ì¨ë„ ë¨.
                        // $ëŠ” jqueryì¸ë°. ì—¬ê¸°ì„œ $ëŠ” jqueryë‘ì€ ê´€ë ¨ì´ ì—†ê³  ê·¸ëƒ¥ ì•½ì†ì„.
                        $("#names-q1").append(html_to_insert);
                        // â¬†ï¸ ğŸ’™jq.append

                    }

                }
            });
            // 3. ê°€ì ¸ì˜¨ ì •ë³´ë¥¼ ì´ìš©í•´ htmlë¡œ ë§Œë“¤ê¸°





        }
    </script>

</head>

<body>
    <h1>JQuery+Ajaxì˜ ì¡°í•©ì„ ì—°ìŠµí•˜ì!</h1>

    <hr />

    <div class="question-box">
        <h2>1. ì„œìš¸ì‹œ OpenAPI(ì‹¤ì‹œê°„ ë¯¸ì„¸ë¨¼ì§€ ìƒíƒœ)ë¥¼ ì´ìš©í•˜ê¸°</h2>
        <p>ëª¨ë“  êµ¬ì˜ ë¯¸ì„¸ë¨¼ì§€ë¥¼ í‘œê¸°í•´ì£¼ì„¸ìš”</p>
        <p>ì—…ë°ì´íŠ¸ ë²„íŠ¼ì„ ëˆ„ë¥¼ ë•Œë§ˆë‹¤ ì§€ì› ë‹¤ ìƒˆë¡œ ì”Œì—¬ì ¸ì•¼ í•©ë‹ˆë‹¤.</p>
        <button onclick="q1()">ì—…ë°ì´íŠ¸</button>
        <ul id="names-q1">
            <li>ì¤‘êµ¬ : 82</li>
            <li>ì¢…ë¡œêµ¬ : 87</li>
            <li>ìš©ì‚°êµ¬ : 84</li>
            <li>ì€í‰êµ¬ : 82</li>
        </ul>
    </div>
</body>

</html>